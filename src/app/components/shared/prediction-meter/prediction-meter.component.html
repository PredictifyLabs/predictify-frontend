<div class="prediction-meter" [ngClass]="[getSizeClass(), 'variant-' + variant]">
  
  <!-- Variante Circular -->
  <div *ngIf="variant === 'circular'" class="circular-meter">
    <svg class="circular-svg" viewBox="0 0 100 100">
      <!-- Background circle -->
      <circle
        class="bg-ring"
        cx="50"
        cy="50"
        r="45"
        fill="none"
        stroke="rgba(255, 255, 255, 0.1)"
        stroke-width="8"
      />
      
      <!-- Progress circle -->
      <circle
        class="progress-ring"
        [class.animated]="animated"
        cx="50"
        cy="50"
        r="45"
        fill="none"
        [attr.stroke]="color"
        stroke-width="8"
        stroke-linecap="round"
        [style.strokeDasharray]="circumference"
        [style.strokeDashoffset]="offset"
        transform="rotate(-90 50 50)"
      />
    </svg>
    
    <!-- Center content -->
    <div class="circular-content">
      <div class="percentage">{{ probability }}%</div>
      <div *ngIf="showLabel" class="level-label">{{ label }}</div>
    </div>
  </div>

  <!-- Variante Linear -->
  <div *ngIf="variant === 'linear'" class="linear-meter">
    <div class="linear-header">
      <span class="linear-label">Probabilidad de asistencia</span>
      <span class="linear-percentage" [style.color]="color">{{ probability }}%</span>
    </div>
    
    <div class="linear-bar-container">
      <div class="linear-bar-bg">
        <div 
          class="linear-bar-fill"
          [class.animated]="animated"
          [style.width.%]="probability"
          [style.background]="getGradient()"
        ></div>
      </div>
    </div>
    
    <div *ngIf="showLabel" class="linear-footer">
      <span class="level-indicator" [style.color]="color">{{ icon }} {{ label }}</span>
    </div>
  </div>

  <!-- Variante Compact -->
  <div *ngIf="variant === 'compact'" class="compact-meter">
    <div class="compact-bar">
      <div 
        class="compact-fill"
        [class.animated]="animated"
        [style.width.%]="probability"
        [style.background]="getGradient()"
      ></div>
    </div>
    <span class="compact-percentage" [style.color]="color">{{ probability }}%</span>
  </div>

</div>
